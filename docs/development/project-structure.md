# é¡¹ç›®ç»“æ„

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç» SmartEdit AI çš„é¡¹ç›®ç»“æ„å’Œä»£ç ç»„ç»‡æ–¹å¼ã€‚

## ğŸ“‚ ç›®å½•ç»“æ„

```
smartedit-ai/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ background/         # Service Worker åå°è„šæœ¬
â”‚   â”œâ”€â”€ content/            # Content Scriptï¼ˆæ³¨å…¥åˆ°é¡µé¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ styles/         # æ ·å¼æ¨¡æ¿æ•°æ®
â”‚   â”‚   â””â”€â”€ utils.ts        # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ options/            # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ popup/              # å¼¹å‡ºçª—å£
â”‚   â””â”€â”€ sidepanel/          # å³ä¾§æ™ºèƒ½åŠ©æ‰‹
â”œâ”€â”€ assets/                 # é™æ€èµ„æº
â”‚   â””â”€â”€ icons/              # æ‰©å±•å›¾æ ‡
â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build.js            # æ‰“åŒ…è„šæœ¬
â”‚   â””â”€â”€ generate-icons.js   # å›¾æ ‡ç”Ÿæˆè„šæœ¬
â”œâ”€â”€ dist/                   # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ manifest.json           # æ‰©å±•é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts          # Vite ä¸»é…ç½®
â”œâ”€â”€ vite.content.config.ts  # Content Script é…ç½®
â”œâ”€â”€ tailwind.config.js      # TailwindCSS é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

---

## ğŸ” æ ¸å¿ƒç›®å½•è¯¦è§£

### src/background/

Service Worker åå°è„šæœ¬ï¼Œè´Ÿè´£ï¼š
- æ‰©å±•ç”Ÿå‘½å‘¨æœŸç®¡ç†
- å³é”®èœå•åˆ›å»º
- æ¶ˆæ¯é€šä¿¡ä¸­è½¬
- Side Panel ç®¡ç†

**ä¸»è¦æ–‡ä»¶ï¼š**
- `background.ts` - åå°è„šæœ¬å…¥å£

### src/content/

Content Scriptï¼Œæ³¨å…¥åˆ°ç½‘é¡µä¸­ï¼Œè´Ÿè´£ï¼š
- ä¾§è¾¹æ æ¸²æŸ“
- é¡µé¢å†…å®¹äº¤äº’
- DOM æ“ä½œ
- æ ·å¼æ’å…¥

**ä¸»è¦æ–‡ä»¶ï¼š**
- `content.tsx` - Content Script å…¥å£
- `components/` - React ç»„ä»¶
  - `Sidebar.tsx` - å·¦ä¾§ä¾§è¾¹æ ä¸»ç»„ä»¶
  - `StyleLibrary.tsx` - æ ·å¼åº“ç»„ä»¶
  - `AIWriter.tsx` - AI å†™ä½œç»„ä»¶
  - `ImageCenter.tsx` - é…å›¾ä¸­å¿ƒç»„ä»¶
- `styles/` - æ ·å¼æ¨¡æ¿æ•°æ®
  - `titles.ts` - æ ‡é¢˜æ ·å¼
  - `paragraphs.ts` - æ­£æ–‡æ ·å¼
  - `dividers.ts` - åˆ†å‰²çº¿æ ·å¼
- `utils.ts` - å·¥å…·å‡½æ•°

### src/popup/

æµè§ˆå™¨å·¥å…·æ å¼¹å‡ºçª—å£ï¼Œæä¾›ï¼š
- å¿«æ·å…¥å£
- è®¾ç½®å…¥å£
- çŠ¶æ€æ˜¾ç¤º

**ä¸»è¦æ–‡ä»¶ï¼š**
- `index.html` - å¼¹çª—é¡µé¢
- `popup.tsx` - å¼¹çª—é€»è¾‘
- `popup.css` - å¼¹çª—æ ·å¼

### src/options/

è®¾ç½®é¡µé¢ï¼Œæä¾›ï¼š
- AI æœåŠ¡é…ç½®
- å›¾ç‰‡æœåŠ¡é…ç½®
- ä¸»é¢˜è®¾ç½®
- å…¶ä»–é€‰é¡¹

**ä¸»è¦æ–‡ä»¶ï¼š**
- `index.html` - è®¾ç½®é¡µé¢
- `options.tsx` - è®¾ç½®é€»è¾‘
- `options.css` - è®¾ç½®æ ·å¼

### src/sidepanel/

å³ä¾§æ™ºèƒ½åŠ©æ‰‹ï¼ˆSide Panelï¼‰ï¼Œæä¾›ï¼š
- å¿«æ·å·¥å…·
- å¿«é€Ÿç¬”è®°
- AI åŠ©æ‰‹
- é¡µé¢ä¿¡æ¯

**ä¸»è¦æ–‡ä»¶ï¼š**
- `index.html` - ä¾§è¾¹é¢æ¿é¡µé¢
- `SidePanel.tsx` - ä¾§è¾¹é¢æ¿ä¸»ç»„ä»¶
- `sidepanel.css` - ä¾§è¾¹é¢æ¿æ ·å¼

---

## ğŸ“„ é…ç½®æ–‡ä»¶

### manifest.json

Chrome æ‰©å±•é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰ï¼š
- æ‰©å±•åŸºæœ¬ä¿¡æ¯
- æƒé™å£°æ˜
- åå°è„šæœ¬
- Content Scripts
- å›¾æ ‡å’Œèµ„æº

### package.json

é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- ä¾èµ–åŒ…åˆ—è¡¨
- æ„å»ºè„šæœ¬
- é¡¹ç›®å…ƒä¿¡æ¯

### tsconfig.json

TypeScript é…ç½®ï¼Œè®¾ç½®ï¼š
- ç¼–è¯‘é€‰é¡¹
- ç±»å‹æ£€æŸ¥è§„åˆ™
- è·¯å¾„æ˜ å°„

### vite.config.ts

Vite ä¸»é…ç½®ï¼Œç”¨äºæ„å»ºï¼š
- popup
- options
- background
- sidepanel

### vite.content.config.ts

Content Script ä¸“ç”¨é…ç½®ï¼Œå•ç‹¬æ„å»º content scriptã€‚

### tailwind.config.js

TailwindCSS é…ç½®ï¼Œå®šä¹‰ï¼š
- ä¸»é¢˜é¢œè‰²
- æ‰©å±•æ ·å¼
- æ’ä»¶é…ç½®

---

## ğŸ”„ æ•°æ®æµ

### æ¶ˆæ¯é€šä¿¡

SmartEdit AI ä½¿ç”¨ Chrome æ¶ˆæ¯ API è¿›è¡Œé€šä¿¡ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Popup     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Background â”‚â—„â”€â”¤  Content   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚              â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   SidePanel    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å­˜å‚¨ç®¡ç†

ä½¿ç”¨ Chrome Storage API å­˜å‚¨ï¼š
- API Keysï¼ˆåŠ å¯†å­˜å‚¨ï¼‰
- ç”¨æˆ·è®¾ç½®
- å†å²è®°å½•
- æ”¶è—å†…å®¹

---

## ğŸ¨ æ ·å¼ç»„ç»‡

### TailwindCSS

ä¸»è¦ä½¿ç”¨ TailwindCSS è¿›è¡Œæ ·å¼å¼€å‘ï¼š
- å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- å“åº”å¼è®¾è®¡
- æ·±è‰²æ¨¡å¼æ”¯æŒ

### CSS Modules

éƒ¨åˆ†ç»„ä»¶ä½¿ç”¨ CSS Modulesï¼š
- æ ·å¼éš”ç¦»
- é¿å…å‘½åå†²çª

---

## ğŸ§© ç»„ä»¶è®¾è®¡

### ç»„ä»¶å±‚æ¬¡

```
App
â”œâ”€â”€ Sidebar (å·¦ä¾§ä¾§è¾¹æ )
â”‚   â”œâ”€â”€ StyleLibrary (æ ·å¼åº“)
â”‚   â”œâ”€â”€ AIWriter (AI å†™ä½œ)
â”‚   â””â”€â”€ ImageCenter (é…å›¾ä¸­å¿ƒ)
â”œâ”€â”€ Popup (å¼¹å‡ºçª—å£)
â””â”€â”€ SidePanel (å³ä¾§åŠ©æ‰‹)
    â”œâ”€â”€ QuickTools (å¿«æ·å·¥å…·)
    â”œâ”€â”€ QuickNotes (å¿«é€Ÿç¬”è®°)
    â”œâ”€â”€ AIAssistant (AI åŠ©æ‰‹)
    â””â”€â”€ PageInfo (é¡µé¢ä¿¡æ¯)
```

### çŠ¶æ€ç®¡ç†

ä½¿ç”¨ Zustand è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼š
- è½»é‡çº§çŠ¶æ€åº“
- ç®€å•æ˜“ç”¨
- TypeScript å‹å¥½

---

## ğŸ”§ å·¥å…·å‡½æ•°

### src/content/utils.ts

æä¾›å¸¸ç”¨å·¥å…·å‡½æ•°ï¼š
- DOM æ“ä½œ
- æ ·å¼æ’å…¥
- æ–‡æœ¬å¤„ç†
- API è°ƒç”¨

---

## ğŸ“¦ æ„å»ºæµç¨‹

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

1. Vite å¯åŠ¨ watch æ¨¡å¼
2. ç›‘å¬æ–‡ä»¶å˜åŒ–
3. è‡ªåŠ¨é‡æ–°æ„å»º
4. è¾“å‡ºåˆ° dist ç›®å½•

### ç”Ÿäº§æ„å»º

```bash
npm run build
```

1. TypeScript ç±»å‹æ£€æŸ¥
2. Vite æ„å»ºä¸»ç¨‹åº
3. Vite æ„å»º content script
4. å‹ç¼©ä¼˜åŒ–ä»£ç 
5. ç”Ÿæˆ dist ç›®å½•

### æ‰“åŒ…å‘å¸ƒ

```bash
npm run zip
```

ç”Ÿæˆå¯å‘å¸ƒçš„ ZIP åŒ…ã€‚

---

## ğŸ§ª æµ‹è¯•

### è°ƒè¯•æ–¹æ³•

**Content Script:**
1. åœ¨ç›®æ ‡é¡µé¢æŒ‰ F12
2. åœ¨ Sources é¢æ¿æ‰¾åˆ° content.js
3. è®¾ç½®æ–­ç‚¹è°ƒè¯•

**Background Script:**
1. åœ¨ `chrome://extensions/` æ‰¾åˆ°æ‰©å±•
2. ç‚¹å‡»ã€ŒService Workerã€é“¾æ¥
3. æ‰“å¼€ DevTools è°ƒè¯•

**Popup/Options:**
1. å³é”®ç‚¹å‡»å¼¹çª—æˆ–è®¾ç½®é¡µé¢
2. é€‰æ‹©ã€Œæ£€æŸ¥ã€
3. æ‰“å¼€ DevTools è°ƒè¯•

---

## ğŸ“š ä»£ç è§„èŒƒ

### TypeScript

- ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
- æ˜ç¡®ç±»å‹å£°æ˜
- é¿å…ä½¿ç”¨ any

### React

- å‡½æ•°å¼ç»„ä»¶
- Hooks ä¼˜å…ˆ
- ç»„ä»¶æ‹†åˆ†åˆç†

### å‘½åè§„èŒƒ

- ç»„ä»¶ï¼šPascalCase
- å‡½æ•°ï¼šcamelCase
- å¸¸é‡ï¼šUPPER_SNAKE_CASE
- æ–‡ä»¶ï¼škebab-case

---

::: tip ä¸‹ä¸€æ­¥
äº†è§£ [æ„å»ºéƒ¨ç½²](/development/build-deploy) æµç¨‹ã€‚
:::
